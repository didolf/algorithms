/**
 * Функция для вычисления N-го числа фибоначи. Использует кэширование на основе замыканий.
 * @param num - номер числа фибоначи.
 * @return Возвращает значение N-го числа фибоначи.
 */
function fib(num)
{
    if (typeof num !== "number")
        return 0;
    let fibCache = {};
    function fibHelper(num)
    {
        if (num === 0)
            return 0;
        if (num <= 2)
            return 1;
        let numMinTwo = (num - 2) in fibCache ? fibCache[num - 2] : fibCache[num - 2] = fibHelper(num - 2);
        let numMinOne = (num - 1) in fibCache ? fibCache[num - 1] : fibCache[num - 1] = fibHelper(num - 1);
        return (numMinTwo + numMinOne);
    }
    return num < 0 ? -1 * fibHelper(-num) : fibHelper(num);
}

export default fib;